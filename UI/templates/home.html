<!DOCTYPE html>
<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/home.css') }}"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <script src="home.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
      crossorigin="anonymous"
    ></script>
    <div id="loading">
      <img src="{{ url_for('static', filename='snail.gif') }}" />
    </div>
    <div id="content">
      <center>
        <h1 class="my-3"><u>Image Caption Generator</u></h1>
      </center>

      {% if image == ''%} {% else %}
      <center class="my-3">
        <div id="img_box">
          <img
            src="{{ url_for('static', filename=image) }}"
            alt="smh"
            id="image"
          />
        </div>

        {%endif%} {% if caption != '' %}
        <div id="caption-box" class="my-3 w-75 px-5">
          <p class="my-3"><b>Caption: </b>{{caption}}</p>
        </div>
        {%endif%}
      </center>

      <form
        action="/smh"
        method="post"
        enctype="multipart/form-data"
        class="my-5 mx-3"
      >
        <div class="mb-3 mx-4 px-4">
          <input
            class="form-control"
            type="file"
            id="formFile"
            name="file"
            multiple="false"
          />
          <button
            type="submit"
            class="btn btn-primary my-3"
            onclick="loading();"
          >
            Generate Caption
          </button>
        </div>
      </form>
    </div>
  </body>
  <script type="text/javascript">
    // <![CDATA[
    function loading() {
      $("#loading").show();
      $("#content").hide();
    }
  </script>
</html>
